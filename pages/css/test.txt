
// Smoother gradients
@function scrim-gradient(
  $startColor,
  $direction: "to bottom",
  $from: 0,
  $to: 100,
  $type: linear,
  $reverse: false,
  $debug: false
) {
  $scrimCoordinates: (
          0: 1,
          19: 0.738,
          34: 0.541,
          47: 0.382,
          56.5: 0.278,
          65: 0.194,
          73: 0.126,
          80.2: 0.075,
          86.1: 0.042,
          91: 0.021,
          95.2: 0.008,
          98.2: 0.002,
          100: 0
  );

  $hsl: "";

  @if type-of($startColor) == "list" {
    $hsl: $startColor;
  } @else {
    $hue: hue($startColor);
    $saturation: saturation($startColor);
    $lightness: lightness($startColor);
    $hsl: #{$hue}, #{$saturation}, #{$lightness};
  }

  $stops: ();

  @each $colorStop, $alpha in $scrimCoordinates {
    $position: $from +
			($colorStop/($to/(100 - $from))) * 1%;
    $stopColor: unquote("hsla(#{$hsl}, #{if($reverse, 1 - $alpha, $alpha)})");
    $stops: append($stops, $stopColor $position, comma);
  }

  @if $debug {
    @return "$startColor: #{$startColor}, $direction: #{$direction}, $from: #{$from}, $to: #{$to}, $type: #{$type}, $reverse: #{$reverse}";
  } @else {
    @if $type == linear {
      @return linear-gradient($direction, $stops);
    } @else if $type == radial {
      @return radial-gradient($direction, $stops);
    }
  }
}