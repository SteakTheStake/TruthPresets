{
  "version": 3,
  "sources": ["../../@grcmichael/gscroll/index.js"],
  "sourcesContent": ["import gsap from \"gsap\";\n\nexport default class GScroll\n{\n\tconstructor (elmt, speed, onUpdate = () => true)\n\t{\t\n\t\tthis.speed = speed/10 || 0.06;\n\t\tthis.elmt = elmt;\n\t\tthis.isWheeling = null;\n\t\tthis.deltaY = 0;\n\t\tthis.update = onUpdate;\n\t}\n\n\tinit ()\n\t{\n\t\tthis.current = this.scrollTop = 0;\n\n\t\tthis.height = document.querySelector(this.elmt).clientHeight-window.innerHeight;\n\t\tthis.deplacement = gsap.quickSetter(this.elmt, \"y\", \"px\");\n\t\t\n\t\tthis.addTicker = () => {\n\t      this.playTicker();\n\t    }\n\t    gsap.ticker.add(this.addTicker);\n\t}\n\n\twheel()\n\t{\n\t\twindow.addEventListener('wheel', this.ref = (e) => {\n\t\t\tthis.deltaY = e.deltaY;\n\t\t\twindow.clearTimeout( this.isWheeling );\n            this.isWheeling = setTimeout( (e) => {\n                this.deltaY = 0;\n            }, 66);\n\n        });\n\t}\n\n\tunwheel()\n\t{\n\t\twindow.removeEventListener('wheel', this.ref);\t\n\t}\n\n\tresize()\n\t{\n\t\tthis.height = document.querySelector(this.elmt).clientHeight-window.innerHeight;\n\t}\n\n\tscrollTo(section, dur)\n\t{\n\t\tconst duration = dur || 1;\n\t\tgsap.to(this, {\n\t\t\tscrollTop: document.querySelector(section).getBoundingClientRect().top - this.current,\n\t\t\tduration,\n\t\t\tease:'power3.inOut'\n\t\t})\n\t}\n\n\tplayTicker(){\n\t\tconst dt = 1.0 - Math.pow(1.0 - this.speed, gsap.ticker.deltaRatio());\n\n\t\tif(this.scrollTop + this.deltaY > this.height){\n\t\t\tthis.scrollTop = this.height;\n\t\t}else if(this.scrollTop + this.deltaY < 0){\n\t\t\tthis.scrollTop = 0;\n\t\t}else if(this.deltaY !== 0){\n\t\t\tthis.scrollTop += this.deltaY;\n\t\t}\n\n\t\tconst diff = -this.scrollTop - this.current;\n        if(Math.round(100*diff)/100 != 0){\n        \tthis.current += diff * dt;\n        \tthis.deplacement(this.current);\n        }\n\t\t\n\t\tthis.update();\n    }\n\n\tdestroy()\n\t{\n\t\tgsap.killTweensOf(this.elmt);\n\t\twindow.removeEventListener('wheel', this.ref);\n\t\tgsap.ticker.remove(this.addTicker);\n\t}\n}"],
  "mappings": ";;;;;AAEA,IAAqB,UAArB,MACA;AAAA,EACC,YAAa,MAAM,OAAO,WAAW,MAAM,MAC3C;AACC,SAAK,QAAQ,QAAM,MAAM;AACzB,SAAK,OAAO;AACZ,SAAK,aAAa;AAClB,SAAK,SAAS;AACd,SAAK,SAAS;AAAA,EACf;AAAA,EAEA,OACA;AACC,SAAK,UAAU,KAAK,YAAY;AAEhC,SAAK,SAAS,SAAS,cAAc,KAAK,IAAI,EAAE,eAAa,OAAO;AACpE,SAAK,cAAc,YAAK,YAAY,KAAK,MAAM,KAAK,IAAI;AAExD,SAAK,YAAY,MAAM;AAClB,WAAK,WAAW;AAAA,IAClB;AACA,gBAAK,OAAO,IAAI,KAAK,SAAS;AAAA,EAClC;AAAA,EAEA,QACA;AACC,WAAO,iBAAiB,SAAS,KAAK,MAAM,CAAC,MAAM;AAClD,WAAK,SAAS,EAAE;AAChB,aAAO,aAAc,KAAK,UAAW;AAC5B,WAAK,aAAa,WAAY,CAACA,OAAM;AACjC,aAAK,SAAS;AAAA,MAClB,GAAG,EAAE;AAAA,IAET,CAAC;AAAA,EACR;AAAA,EAEA,UACA;AACC,WAAO,oBAAoB,SAAS,KAAK,GAAG;AAAA,EAC7C;AAAA,EAEA,SACA;AACC,SAAK,SAAS,SAAS,cAAc,KAAK,IAAI,EAAE,eAAa,OAAO;AAAA,EACrE;AAAA,EAEA,SAAS,SAAS,KAClB;AACC,UAAM,WAAW,OAAO;AACxB,gBAAK,GAAG,MAAM;AAAA,MACb,WAAW,SAAS,cAAc,OAAO,EAAE,sBAAsB,EAAE,MAAM,KAAK;AAAA,MAC9E;AAAA,MACA,MAAK;AAAA,IACN,CAAC;AAAA,EACF;AAAA,EAEA,aAAY;AACX,UAAM,KAAK,IAAM,KAAK,IAAI,IAAM,KAAK,OAAO,YAAK,OAAO,WAAW,CAAC;AAEpE,QAAG,KAAK,YAAY,KAAK,SAAS,KAAK,QAAO;AAC7C,WAAK,YAAY,KAAK;AAAA,IACvB,WAAS,KAAK,YAAY,KAAK,SAAS,GAAE;AACzC,WAAK,YAAY;AAAA,IAClB,WAAS,KAAK,WAAW,GAAE;AAC1B,WAAK,aAAa,KAAK;AAAA,IACxB;AAEA,UAAM,OAAO,CAAC,KAAK,YAAY,KAAK;AAC9B,QAAG,KAAK,MAAM,MAAI,IAAI,IAAE,OAAO,GAAE;AAChC,WAAK,WAAW,OAAO;AACvB,WAAK,YAAY,KAAK,OAAO;AAAA,IAC9B;AAEN,SAAK,OAAO;AAAA,EACV;AAAA,EAEH,UACA;AACC,gBAAK,aAAa,KAAK,IAAI;AAC3B,WAAO,oBAAoB,SAAS,KAAK,GAAG;AAC5C,gBAAK,OAAO,OAAO,KAAK,SAAS;AAAA,EAClC;AACD;",
  "names": ["e"]
}
